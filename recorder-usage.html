<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Generic data recorder
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="BRML Instrument Drivers"/>
    <meta name="author" content="Technical University Munich"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="file://Z:\dev\Deep\BRMLDrivers\docs\tools\../output/content/style.css" />
    <script type="text/javascript" src="file://Z:\dev\Deep\BRMLDrivers\docs\tools\../output/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->

    <script type="text/javascript" async
              src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="https://github.com/BRML/BRMLDrivers/tree/0.2">github page</a></li>
        </ul>
        <h3 class="muted"><a href="file://Z:\dev\Deep\BRMLDrivers\docs\tools\../output/index.html">BRML Drivers</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Generic-data-recorder" class="anchor" href="#Generic-data-recorder">Generic data recorder</a></h1>
<p>The purpose of the generic data recorder is to record sample-based data of small to moderate sample size from multiple sources (usually sensors) with moderate sampling rates (about 1 kHz).
It is assumed that sensor samples are obtained independently, i.e. without hardware synchronization during acquisition, and with possibly different sampling rates.
The library further assumes that the involved sensors do not produce time stamps; hence the high-precision timer of the host is used for time stamping.
After recording a common timeline with all sensors synchronized onto a common sampling rate using linear interpolation is computed.</p>
<p>You can run the example presented in this document by cloning the Git repository and executing <code>FsiAnyCPU.exe docs/content/recorder-usage.fsx</code>.</p>
<h2><a name="Sensor-interface" class="anchor" href="#Sensor-interface">Sensor interface</a></h2>
<p>The data recorder can obtain samples from any object that implements the <code>ISensor&lt;'T&gt;</code> <a href="https://fsharpforfunandprofit.com/posts/interfaces/">interface</a> where <code>'T</code> is the data type of the sample and can be an arbitrary type (for example <code>float []</code>).
Note that your sensor does not have to correspond to a hardware sensor.
In the context of this document a sensor can be anything, that periodically produces data samples.</p>
<p>This sensor interface is defined as follows</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="i">SampleRecorder</span><span class="o">.</span><span class="i">ISensor</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span> <span class="o">=</span> 
    <span class="k">abstract</span> <span class="i">DataType</span> <span class="o">:</span> <span class="i">Type</span>
    <span class="k">abstract</span> <span class="i">SampleAcquired</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">IEvent</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span>
    <span class="k">abstract</span> <span class="i">Interpolate</span> <span class="o">:</span> <span class="i">fac</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">float</span> <span class="k">-&gt;</span> <span class="i">a</span><span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span> <span class="k">-&gt;</span> <span class="i">b</span><span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span> <span class="k">-&gt;</span> <span class="o">&#39;</span><span class="i">T</span>
</code></pre></td>
</tr>
</table>
<p>To make your sensor compatible with the data recorder, implement this interface.
The <code>DataType</code> property must return <code>typeof&lt;'T&gt;</code>.
<code>SampleAcquired</code> must be an <a href="https://en.wikibooks.org/wiki/F_Sharp_Programming/Events">event</a> that your sensor raises each time a <em>new</em> sample is acquired.
The argument of the event must be the sample itself.
The <code>Interpolate</code> method is used for computing a common timeline of multiple sensors after data acquisition is finished.
Your implementation of this method must perform the equivalent of linear interpolation for your sample data type between the two samples <code>a</code> and <code>b</code> using the interpolation factor <code>fac</code> according to the formula: <code>(1 - fac) * a + fac * b</code>.</p>
<h3><a name="Example-sensor-measuring-performance-counters" class="anchor" href="#Example-sensor-measuring-performance-counters">Example sensor measuring performance counters</a></h3>
<p>In this section we will write a simple sensor that queries a <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa373083(v=vs.85).aspx">Windows performance counter</a> (for example CPU utilization or available memory) at a fixed sampling interval.
Performance counter measurements have the data type <code>float32</code>.
For the sake of decency we define a type alias.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="t">PerfSample</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="t">float32</span>
</code></pre></td>
</tr>
</table>
<p>Then we write code for the sensor type and implement the ISensor<'T> interface.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="i">Timers</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="i">Diagnostics</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="t">PerfSensor</span> (<span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="i">categoryName</span><span class="o">:</span>      <span onmouseout="hideTip(event, 'fs10', 11)" onmouseover="showTip(event, 'fs10', 11)" class="t">string</span>, 
                 <span onmouseout="hideTip(event, 'fs11', 12)" onmouseover="showTip(event, 'fs11', 12)" class="i">counterName</span><span class="o">:</span>       <span onmouseout="hideTip(event, 'fs10', 13)" onmouseover="showTip(event, 'fs10', 13)" class="t">string</span>,
                 <span onmouseout="hideTip(event, 'fs12', 14)" onmouseover="showTip(event, 'fs12', 14)" class="i">instanceName</span><span class="o">:</span>      <span onmouseout="hideTip(event, 'fs10', 15)" onmouseover="showTip(event, 'fs10', 15)" class="t">string</span>,
                 <span onmouseout="hideTip(event, 'fs13', 16)" onmouseover="showTip(event, 'fs13', 16)" class="i">samplingInterval</span><span class="o">:</span>  <span onmouseout="hideTip(event, 'fs2', 17)" onmouseover="showTip(event, 'fs2', 17)" class="t">float</span>) <span class="o">=</span>

    <span class="c">// performance counter</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 18)" onmouseover="showTip(event, 'fs14', 18)" class="i">perfCounter</span> <span class="o">=</span> 
        <span class="k">new</span> <span onmouseout="hideTip(event, 'fs15', 19)" onmouseover="showTip(event, 'fs15', 19)" class="t">PerformanceCounter</span> (<span onmouseout="hideTip(event, 'fs9', 20)" onmouseover="showTip(event, 'fs9', 20)" class="i">categoryName</span>, <span onmouseout="hideTip(event, 'fs11', 21)" onmouseover="showTip(event, 'fs11', 21)" class="i">counterName</span>, <span onmouseout="hideTip(event, 'fs12', 22)" onmouseover="showTip(event, 'fs12', 22)" class="i">instanceName</span>)

    <span class="c">// event that will be triggered for every sample</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs16', 23)" onmouseover="showTip(event, 'fs16', 23)" class="i">sampleAcquiredEvent</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs17', 24)" onmouseover="showTip(event, 'fs17', 24)" class="t">Event</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs3', 25)" onmouseover="showTip(event, 'fs3', 25)" class="t">PerfSample</span><span class="o">&gt;</span> ()

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 26)" onmouseover="showTip(event, 'fs18', 26)" class="f">acquireSample</span> _ <span class="o">=</span>
        <span class="c">// acquire a sample</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs19', 27)" onmouseover="showTip(event, 'fs19', 27)" class="i">smpl</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs14', 28)" onmouseover="showTip(event, 'fs14', 28)" class="i">perfCounter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs20', 29)" onmouseover="showTip(event, 'fs20', 29)" class="f">NextValue</span> ()
        <span class="c">// and trigger the event with the sample as argument</span>
        <span onmouseout="hideTip(event, 'fs16', 30)" onmouseover="showTip(event, 'fs16', 30)" class="i">sampleAcquiredEvent</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs21', 31)" onmouseover="showTip(event, 'fs21', 31)" class="f">Trigger</span> <span onmouseout="hideTip(event, 'fs19', 32)" onmouseover="showTip(event, 'fs19', 32)" class="i">smpl</span>

    <span class="c">// create and start sampling timer</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 33)" onmouseover="showTip(event, 'fs22', 33)" class="i">samplingTimer</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs23', 34)" onmouseover="showTip(event, 'fs23', 34)" class="t">Timer</span> (<span onmouseout="hideTip(event, 'fs13', 35)" onmouseover="showTip(event, 'fs13', 35)" class="i">samplingInterval</span>)
    <span class="k">do</span> 
        <span onmouseout="hideTip(event, 'fs22', 36)" onmouseover="showTip(event, 'fs22', 36)" class="i">samplingTimer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 37)" onmouseover="showTip(event, 'fs24', 37)" class="i">AutoReset</span> <span class="o">&lt;-</span> <span class="k">true</span>
        <span onmouseout="hideTip(event, 'fs22', 38)" onmouseover="showTip(event, 'fs22', 38)" class="i">samplingTimer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs25', 39)" onmouseover="showTip(event, 'fs25', 39)" class="i">Elapsed</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 40)" onmouseover="showTip(event, 'fs26', 40)" class="f">Add</span> <span onmouseout="hideTip(event, 'fs18', 41)" onmouseover="showTip(event, 'fs18', 41)" class="f">acquireSample</span>            
        <span onmouseout="hideTip(event, 'fs22', 42)" onmouseover="showTip(event, 'fs22', 42)" class="i">samplingTimer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs27', 43)" onmouseover="showTip(event, 'fs27', 43)" class="f">Start</span> ()

    <span class="c">// sensor interface</span>
    <span class="k">interface</span> <span onmouseout="hideTip(event, 'fs28', 44)" onmouseover="showTip(event, 'fs28', 44)" class="i">SampleRecorder</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs29', 45)" onmouseover="showTip(event, 'fs29', 45)" class="t">ISensor</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs3', 46)" onmouseover="showTip(event, 'fs3', 46)" class="t">PerfSample</span><span class="o">&gt;</span> <span class="k">with</span>
        <span class="k">member</span> <span onmouseout="hideTip(event, 'fs30', 47)" onmouseover="showTip(event, 'fs30', 47)" class="i">this</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 48)" onmouseover="showTip(event, 'fs31', 48)" class="i">DataType</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs32', 49)" onmouseover="showTip(event, 'fs32', 49)" class="i">typeof</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs3', 50)" onmouseover="showTip(event, 'fs3', 50)" class="t">PerfSample</span><span class="o">&gt;</span>
        <span class="k">member</span> <span onmouseout="hideTip(event, 'fs30', 51)" onmouseover="showTip(event, 'fs30', 51)" class="i">this</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 52)" onmouseover="showTip(event, 'fs33', 52)" class="i">SampleAcquired</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 53)" onmouseover="showTip(event, 'fs16', 53)" class="i">sampleAcquiredEvent</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 54)" onmouseover="showTip(event, 'fs34', 54)" class="i">Publish</span>
        <span class="k">member</span> <span onmouseout="hideTip(event, 'fs30', 55)" onmouseover="showTip(event, 'fs30', 55)" class="i">this</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs35', 56)" onmouseover="showTip(event, 'fs35', 56)" class="f">Interpolate</span> <span onmouseout="hideTip(event, 'fs36', 57)" onmouseover="showTip(event, 'fs36', 57)" class="i">fac</span> <span onmouseout="hideTip(event, 'fs37', 58)" onmouseover="showTip(event, 'fs37', 58)" class="i">a</span> <span onmouseout="hideTip(event, 'fs38', 59)" onmouseover="showTip(event, 'fs38', 59)" class="i">b</span> <span class="o">=</span> 
            <span onmouseout="hideTip(event, 'fs4', 60)" onmouseover="showTip(event, 'fs4', 60)" class="f">float32</span> (<span class="n">1.</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs36', 61)" onmouseover="showTip(event, 'fs36', 61)" class="i">fac</span>) <span class="o">*</span> <span onmouseout="hideTip(event, 'fs37', 62)" onmouseover="showTip(event, 'fs37', 62)" class="i">a</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs4', 63)" onmouseover="showTip(event, 'fs4', 63)" class="f">float32</span> <span onmouseout="hideTip(event, 'fs36', 64)" onmouseover="showTip(event, 'fs36', 64)" class="i">fac</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs38', 65)" onmouseover="showTip(event, 'fs38', 65)" class="i">b</span>

    <span class="k">interface</span> <span onmouseout="hideTip(event, 'fs5', 66)" onmouseover="showTip(event, 'fs5', 66)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs39', 67)" onmouseover="showTip(event, 'fs39', 67)" class="t">IDisposable</span> <span class="k">with</span>
        <span class="k">member</span> <span onmouseout="hideTip(event, 'fs30', 68)" onmouseover="showTip(event, 'fs30', 68)" class="i">this</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs40', 69)" onmouseover="showTip(event, 'fs40', 69)" class="f">Dispose</span> () <span class="o">=</span> 
            <span onmouseout="hideTip(event, 'fs22', 70)" onmouseover="showTip(event, 'fs22', 70)" class="i">samplingTimer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 71)" onmouseover="showTip(event, 'fs41', 71)" class="f">Dispose</span> ()
            <span onmouseout="hideTip(event, 'fs14', 72)" onmouseover="showTip(event, 'fs14', 72)" class="i">perfCounter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 73)" onmouseover="showTip(event, 'fs41', 73)" class="f">Dispose</span> ()
</code></pre></td>
</tr>
</table>
<p>The <code>samplingTimer</code> triggers the execution of the <code>acquireSample</code> function every time the <code>samplingInterval</code> has passed.
This function obtains a sample from the performance counter using <code>NextValue</code> method and triggers the <code>SampleAcquired</code> event of the <code>SampleRecorder.ISensor&lt;_&gt;</code> interface.
Interpolation is simple in this case, the only thing we need to care about is the conversion of the interpolation factor <code>fac</code> to our sample data type <code>float32</code>.</p>
<p>Before using the recorder, let us test our sensor by instantiating it with a sampling interval of 100 ms and the performance counter for CPU load.
Then we attach a function that prints the current measurement every time the <code>ISensor&lt;_&gt;.SampleAcquired</code> event is triggered.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs42', 74)" onmouseover="showTip(event, 'fs42', 74)" class="i">cpuSensor</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs8', 75)" onmouseover="showTip(event, 'fs8', 75)" class="t">PerfSensor</span> (<span class="s">&quot;Processor&quot;</span>, <span class="s">&quot;% Processor Time&quot;</span>, <span class="s">&quot;_Total&quot;</span>, <span class="n">100.</span>)
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs43', 76)" onmouseover="showTip(event, 'fs43', 76)" class="i">evtHandle</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs42', 77)" onmouseover="showTip(event, 'fs42', 77)" class="i">cpuSensor</span> <span class="o">:&gt;</span> <span onmouseout="hideTip(event, 'fs28', 78)" onmouseover="showTip(event, 'fs28', 78)" class="i">SampleRecorder</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs29', 79)" onmouseover="showTip(event, 'fs29', 79)" class="t">ISensor</span><span class="o">&lt;</span>_<span class="o">&gt;</span>)<span class="o">.</span><span class="i">SampleAcquired</span><span class="o">.</span><span class="f">Subscribe</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs44', 80)" onmouseover="showTip(event, 'fs44', 80)" class="i">smpl</span> <span class="k">-&gt;</span>
    <span onmouseout="hideTip(event, 'fs45', 81)" onmouseover="showTip(event, 'fs45', 81)" class="f">printfn</span> <span class="s">&quot;The current CPU load is </span><span class="pf">%6.2f</span><span class="s"> </span><span class="pf">%%</span><span class="s">.&quot;</span> <span onmouseout="hideTip(event, 'fs44', 82)" onmouseover="showTip(event, 'fs44', 82)" class="i">smpl</span>
)
<span onmouseout="hideTip(event, 'fs46', 83)" onmouseover="showTip(event, 'fs46', 83)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 84)" onmouseover="showTip(event, 'fs47', 84)" class="f">Sleep</span> <span class="n">2000</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs46', 85)" onmouseover="showTip(event, 'fs46', 85)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs48', 86)" onmouseover="showTip(event, 'fs48', 86)" class="f">RunSynchronously</span>  <span class="c">// wait for a few seconds</span>
<span onmouseout="hideTip(event, 'fs43', 87)" onmouseover="showTip(event, 'fs43', 87)" class="i">evtHandle</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs49', 88)" onmouseover="showTip(event, 'fs49', 88)" class="f">Dispose</span>()                         <span class="c">// detach event handler</span>
</code></pre></td>
</tr>
</table>
<p>After waiting for two seconds we detach our event handler to stop the continuous output.</p>
<p>This will print something similar to</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">0.00</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">7.67</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">0.00</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">0.00</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">0.00</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">2.96</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">2.96</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">7.11</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">0.00</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">0.00</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">5.33</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">4.99</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">4.63</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">1.81</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">0.71</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">2.84</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">0.00</span> <span class="o">%.</span>
<span class="i">The</span> <span class="i">current</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">is</span>   <span class="n">0.00</span> <span class="o">%.</span>
</code></pre></td>
</tr>
</table>
<p>Let us instantiate a second sensor measuring available memory at an interval of 70 ms.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs50', 89)" onmouseover="showTip(event, 'fs50', 89)" class="i">memSensor</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs8', 90)" onmouseover="showTip(event, 'fs8', 90)" class="t">PerfSensor</span> (<span class="s">&quot;Memory&quot;</span>, <span class="s">&quot;Available MBytes&quot;</span>, <span class="s">&quot;&quot;</span>, <span class="n">70.</span>)
</code></pre></td>
</tr>
</table>
<h2><a name="Using-the-recorder" class="anchor" href="#Using-the-recorder">Using the recorder</a></h2>
<p>The sample recorder is provided by the <code>SampleRecorder.Recorder&lt;'T&gt;</code> type where <code>'T</code> must be a (user-defined) record type that stores the data of <em>all</em> recorded sensors and has an additional field for the sample time of type <code>float</code>.
The sample time is stored in seconds since the start of the recording.
Continuing with our example we define the sample record <code>LoadSample</code> that captures CPU load and available memory.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs51', 91)" onmouseover="showTip(event, 'fs51', 91)" class="t">LoadSample</span> <span class="o">=</span> {
    <span onmouseout="hideTip(event, 'fs52', 92)" onmouseover="showTip(event, 'fs52', 92)" class="i">Time</span><span class="o">:</span>   <span onmouseout="hideTip(event, 'fs2', 93)" onmouseover="showTip(event, 'fs2', 93)" class="t">float</span>       <span class="c">// time in seconds since start of recording</span>
    <span onmouseout="hideTip(event, 'fs53', 94)" onmouseover="showTip(event, 'fs53', 94)" class="i">Cpu</span><span class="o">:</span>    <span onmouseout="hideTip(event, 'fs3', 95)" onmouseover="showTip(event, 'fs3', 95)" class="t">PerfSample</span>
    <span onmouseout="hideTip(event, 'fs54', 96)" onmouseover="showTip(event, 'fs54', 96)" class="i">Mem</span><span class="o">:</span>    <span onmouseout="hideTip(event, 'fs3', 97)" onmouseover="showTip(event, 'fs3', 97)" class="t">PerfSample</span>
}
</code></pre></td>
</tr>
</table>
<p>Also note, that no additional fields may be present in the sample type.
The constructor of the recorder takes a list of sensors to record from as its only argument.
The sensors must be listed in the same order as they appear in the sample type <code>'T</code>.
We can now instantiate the recorder.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs55', 98)" onmouseover="showTip(event, 'fs55', 98)" class="i">recorder</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs28', 99)" onmouseover="showTip(event, 'fs28', 99)" class="i">SampleRecorder</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs56', 100)" onmouseover="showTip(event, 'fs56', 100)" class="t">Recorder</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs51', 101)" onmouseover="showTip(event, 'fs51', 101)" class="t">LoadSample</span><span class="o">&gt;</span> [<span onmouseout="hideTip(event, 'fs42', 102)" onmouseover="showTip(event, 'fs42', 102)" class="i">cpuSensor</span>; <span onmouseout="hideTip(event, 'fs50', 103)" onmouseover="showTip(event, 'fs50', 103)" class="i">memSensor</span>]
</code></pre></td>
</tr>
</table>
<p>During instantiation the recorder automatically subscribes to the sample events of your sensors.</p>
<p>We can control recording by calling the  <code>recorder.Start</code> and <code>recorder.Stop</code> methods.
Let us record for two seconds.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs55', 104)" onmouseover="showTip(event, 'fs55', 104)" class="i">recorder</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs57', 105)" onmouseover="showTip(event, 'fs57', 105)" class="f">Start</span> ()
<span onmouseout="hideTip(event, 'fs46', 106)" onmouseover="showTip(event, 'fs46', 106)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 107)" onmouseover="showTip(event, 'fs47', 107)" class="f">Sleep</span> <span class="n">2000</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs46', 108)" onmouseover="showTip(event, 'fs46', 108)" class="t">Async</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs48', 109)" onmouseover="showTip(event, 'fs48', 109)" class="f">RunSynchronously</span>
<span onmouseout="hideTip(event, 'fs55', 110)" onmouseover="showTip(event, 'fs55', 110)" class="i">recorder</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 111)" onmouseover="showTip(event, 'fs58', 111)" class="f">Stop</span> ()
</code></pre></td>
</tr>
</table>
<p>Recording statistics can be outputted by calling the <code>recorder.PrintStatistics</code> methods.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs55', 112)" onmouseover="showTip(event, 'fs55', 112)" class="i">recorder</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs59', 113)" onmouseover="showTip(event, 'fs59', 113)" class="f">PrintStatistics</span> ()
</code></pre></td>
</tr>
</table>
<p>This will print individual sensor statistics.
For example, here we obtain:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">Channel</span> <span class="i">FSI_0003</span><span class="o">+</span><span class="i">PerfSensor</span><span class="o">:</span>
         <span class="i">first</span> <span class="i">sample</span> <span class="i">time</span><span class="o">:</span> <span class="n">0.017</span> <span class="i">s</span>  <span class="i">last</span> <span class="i">sample</span> <span class="i">time</span><span class="o">:</span> <span class="n">1.950</span> <span class="i">s</span>
         <span class="i">average</span> <span class="i">interval</span><span class="o">:</span> <span class="n">0.102</span> <span class="i">s</span>  <span class="i">number</span> <span class="k">of</span> <span class="i">samples</span><span class="o">:</span> <span class="n">19</span>  <span class="i">sampling</span> <span class="i">rate</span><span class="o">:</span> <span class="n">9.8</span> <span class="i">Hz</span>
<span class="i">Channel</span> <span class="i">FSI_0003</span><span class="o">+</span><span class="i">PerfSensor</span><span class="o">:</span>
         <span class="i">first</span> <span class="i">sample</span> <span class="i">time</span><span class="o">:</span> <span class="n">0.017</span> <span class="i">s</span>  <span class="i">last</span> <span class="i">sample</span> <span class="i">time</span><span class="o">:</span> <span class="n">2.022</span> <span class="i">s</span>
         <span class="i">average</span> <span class="i">interval</span><span class="o">:</span> <span class="n">0.080</span> <span class="i">s</span>  <span class="i">number</span> <span class="k">of</span> <span class="i">samples</span><span class="o">:</span> <span class="n">25</span>  <span class="i">sampling</span> <span class="i">rate</span><span class="o">:</span> <span class="n">12.5</span> <span class="i">Hz</span>
</code></pre></td>
</tr>
</table>
<h3><a name="Getting-the-recorded-samples" class="anchor" href="#Getting-the-recorded-samples">Getting the recorded samples</a></h3>
<p>Use the <code>recorder.GetSamples</code> method to obtain the recorded data samples on a common timeline.
The function takes an argument that can either be</p>
<ul>
<li><code>Some interval</code>. In this case the specified interval is used on the common timeline.</li>
<li><code>None</code>. In this case the average sampling interval of the fastest sensor is used.</li>
</ul>
<p>Linear interpolation is performed to calculate the sensor data on the common timeline.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs60', 114)" onmouseover="showTip(event, 'fs60', 114)" class="i">smpls</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs55', 115)" onmouseover="showTip(event, 'fs55', 115)" class="i">recorder</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs61', 116)" onmouseover="showTip(event, 'fs61', 116)" class="f">GetSamples</span> <span onmouseout="hideTip(event, 'fs62', 117)" onmouseover="showTip(event, 'fs62', 117)" class="p">None</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs63', 118)" onmouseover="showTip(event, 'fs63', 118)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs64', 119)" onmouseover="showTip(event, 'fs64', 119)" class="f">ofSeq</span>
</code></pre></td>
</tr>
</table>
<p>The function returns a sequence of the sample type; that is <code>LoadSample</code> in our case.
We convert the sequence to an array for efficient storage.</p>
<p>We can now print the recorded data.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">for</span> <span onmouseout="hideTip(event, 'fs65', 120)" onmouseover="showTip(event, 'fs65', 120)" class="i">smpl</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs60', 121)" onmouseover="showTip(event, 'fs60', 121)" class="i">smpls</span> <span class="k">do</span>
    <span onmouseout="hideTip(event, 'fs45', 122)" onmouseover="showTip(event, 'fs45', 122)" class="f">printfn</span> <span class="s">&quot;At </span><span class="pf">%6.3f</span><span class="s"> s the CPU load was </span><span class="pf">%6.2f</span><span class="s"> </span><span class="pf">%%</span><span class="s"> and </span><span class="pf">%7.0f</span><span class="s"> MB of memory were available.&quot;</span>
        <span onmouseout="hideTip(event, 'fs65', 123)" onmouseover="showTip(event, 'fs65', 123)" class="i">smpl</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 124)" onmouseover="showTip(event, 'fs52', 124)" class="i">Time</span> <span onmouseout="hideTip(event, 'fs65', 125)" onmouseover="showTip(event, 'fs65', 125)" class="i">smpl</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs53', 126)" onmouseover="showTip(event, 'fs53', 126)" class="i">Cpu</span> <span onmouseout="hideTip(event, 'fs65', 127)" onmouseover="showTip(event, 'fs65', 127)" class="i">smpl</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs54', 128)" onmouseover="showTip(event, 'fs54', 128)" class="i">Mem</span>
</code></pre></td>
</tr>
</table>
<p>The output will be similar to</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="i">At</span>  <span class="n">0.017</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">0.00</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">0.097</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">5.09</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">0.177</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">2.45</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">0.257</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">0.34</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">0.338</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">1.41</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">0.418</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">7.68</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">0.498</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">3.00</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">0.578</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">2.91</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">0.658</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">6.69</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">0.739</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">1.88</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">0.819</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">3.83</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">0.899</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">8.06</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">0.979</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">1.73</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">1.060</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">3.50</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">1.140</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">3.85</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">1.220</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">0.69</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">1.300</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">3.67</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">1.380</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">4.93</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">1.461</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">4.15</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">1.541</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">0.36</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">1.621</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">5.03</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">1.701</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">3.36</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">1.781</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">0.00</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
<span class="i">At</span>  <span class="n">1.862</span> <span class="i">s</span> <span class="i">the</span> <span class="i">CPU</span> <span class="i">load</span> <span class="i">was</span>   <span class="n">0.00</span> <span class="o">%</span> <span class="k">and</span>   <span class="n">19729</span> <span class="i">MB</span> <span class="k">of</span> <span class="i">memory</span> <span class="i">were</span> <span class="i">available</span><span class="o">.</span>
</code></pre></td>
</tr>
</table>
<h3><a name="Clearing-the-recorder-s-memory" class="anchor" href="#Clearing-the-recorder-s-memory">Clearing the recorder's memory</a></h3>
<p>The sample recorder can be reused without having to create a new instance by calling the <code>recorder.Clear</code> method.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs55', 129)" onmouseover="showTip(event, 'fs55', 129)" class="i">recorder</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs66', 130)" onmouseover="showTip(event, 'fs66', 130)" class="f">Clear</span> ()
</code></pre></td>
</tr>
</table>
<h2><a name="Usage-with-BRML-drivers" class="anchor" href="#Usage-with-BRML-drivers">Usage with BRML drivers</a></h2>
<p>The <a href="biotac.html">BioTac</a> and <a href="xytable.html">XY table</a> drivers in this library already implement the sensor interface.
Thus they can be directly used with the sample recorder.
It is also recommended that you implement the recorder interface for your custom-built drivers.</p>
<h2><a name="Conclusion" class="anchor" href="#Conclusion">Conclusion</a></h2>
<p>The generic data recorder provides a simple, efficient way of obtaining data from multiple sensors and synchronizing them on a common time line.
After recording, samples are returned in a user-defined sample record that combines the data from all sensors.</p>

<div class="tip" id="fs1">type IEvent&lt;&#39;T&gt; = IEvent&lt;Handler&lt;&#39;T&gt;,&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Control.IEvent&lt;_&gt;</div>
<div class="tip" id="fs2">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.float<br /><br />--------------------<br />type float = System.Double<br /><br />Full name: Microsoft.FSharp.Core.float<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float<br /><br />Full name: Microsoft.FSharp.Core.float&lt;_&gt;</div>
<div class="tip" id="fs3">type PerfSample = float32<br /><br />Full name: Recorder-usage.PerfSample</div>
<div class="tip" id="fs4">Multiple items<br />val float32 : value:&#39;T -&gt; float32 (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.float32<br /><br />--------------------<br />type float32 = System.Single<br /><br />Full name: Microsoft.FSharp.Core.float32<br /><br />--------------------<br />type float32&lt;&#39;Measure&gt; = float32<br /><br />Full name: Microsoft.FSharp.Core.float32&lt;_&gt;</div>
<div class="tip" id="fs5">namespace System</div>
<div class="tip" id="fs6">namespace System.Timers</div>
<div class="tip" id="fs7">namespace System.Diagnostics</div>
<div class="tip" id="fs8">Multiple items<br />type PerfSensor =<br />&#160;&#160;interface IDisposable<br />&#160;&#160;interface ISensor&lt;PerfSample&gt;<br />&#160;&#160;new : categoryName:string * counterName:string * instanceName:string * samplingInterval:float -&gt; PerfSensor<br /><br />Full name: Recorder-usage.PerfSensor<br /><br />--------------------<br />new : categoryName:string * counterName:string * instanceName:string * samplingInterval:float -&gt; PerfSensor</div>
<div class="tip" id="fs9">val categoryName : string</div>
<div class="tip" id="fs10">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs11">val counterName : string</div>
<div class="tip" id="fs12">val instanceName : string</div>
<div class="tip" id="fs13">val samplingInterval : float</div>
<div class="tip" id="fs14">val perfCounter : PerformanceCounter</div>
<div class="tip" id="fs15">Multiple items<br />type PerformanceCounter =<br />&#160;&#160;inherit Component<br />&#160;&#160;new : unit -&gt; PerformanceCounter + 5 overloads<br />&#160;&#160;member BeginInit : unit -&gt; unit<br />&#160;&#160;member CategoryName : string with get, set<br />&#160;&#160;member Close : unit -&gt; unit<br />&#160;&#160;member CounterHelp : string<br />&#160;&#160;member CounterName : string with get, set<br />&#160;&#160;member CounterType : PerformanceCounterType<br />&#160;&#160;member Decrement : unit -&gt; int64<br />&#160;&#160;member EndInit : unit -&gt; unit<br />&#160;&#160;member Increment : unit -&gt; int64<br />&#160;&#160;...<br /><br />Full name: System.Diagnostics.PerformanceCounter<br /><br />--------------------<br />PerformanceCounter() : unit<br />PerformanceCounter(categoryName: string, counterName: string) : unit<br />PerformanceCounter(categoryName: string, counterName: string, instanceName: string) : unit<br />PerformanceCounter(categoryName: string, counterName: string, readOnly: bool) : unit<br />PerformanceCounter(categoryName: string, counterName: string, instanceName: string, machineName: string) : unit<br />PerformanceCounter(categoryName: string, counterName: string, instanceName: string, readOnly: bool) : unit</div>
<div class="tip" id="fs16">val sampleAcquiredEvent : Event&lt;PerfSample&gt;</div>
<div class="tip" id="fs17">Multiple items<br />module Event<br /><br />from Microsoft.FSharp.Control<br /><br />--------------------<br />type Event&lt;&#39;T&gt; =<br />&#160;&#160;new : unit -&gt; Event&lt;&#39;T&gt;<br />&#160;&#160;member Trigger : arg:&#39;T -&gt; unit<br />&#160;&#160;member Publish : IEvent&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Event&lt;_&gt;<br /><br />--------------------<br />type Event&lt;&#39;Delegate,&#39;Args (requires delegate and &#39;Delegate :&gt; Delegate)&gt; =<br />&#160;&#160;new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;<br />&#160;&#160;member Trigger : sender:obj * args:&#39;Args -&gt; unit<br />&#160;&#160;member Publish : IEvent&lt;&#39;Delegate,&#39;Args&gt;<br /><br />Full name: Microsoft.FSharp.Control.Event&lt;_,_&gt;<br /><br />--------------------<br />new : unit -&gt; Event&lt;&#39;T&gt;<br /><br />--------------------<br />new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;</div>
<div class="tip" id="fs18">val acquireSample : (&#39;a -&gt; unit)</div>
<div class="tip" id="fs19">val smpl : float32</div>
<div class="tip" id="fs20">PerformanceCounter.NextValue() : float32</div>
<div class="tip" id="fs21">member Event.Trigger : arg:&#39;T -&gt; unit</div>
<div class="tip" id="fs22">val samplingTimer : Timer</div>
<div class="tip" id="fs23">Multiple items<br />type Timer =<br />&#160;&#160;inherit Component<br />&#160;&#160;new : unit -&gt; Timer + 1 overload<br />&#160;&#160;member AutoReset : bool with get, set<br />&#160;&#160;member BeginInit : unit -&gt; unit<br />&#160;&#160;member Close : unit -&gt; unit<br />&#160;&#160;member Enabled : bool with get, set<br />&#160;&#160;member EndInit : unit -&gt; unit<br />&#160;&#160;member Interval : float with get, set<br />&#160;&#160;member Site : ISite with get, set<br />&#160;&#160;member Start : unit -&gt; unit<br />&#160;&#160;member Stop : unit -&gt; unit<br />&#160;&#160;...<br /><br />Full name: System.Timers.Timer<br /><br />--------------------<br />Timer() : unit<br />Timer(interval: float) : unit</div>
<div class="tip" id="fs24">property Timer.AutoReset: bool</div>
<div class="tip" id="fs25">event Timer.Elapsed: IEvent&lt;ElapsedEventHandler,ElapsedEventArgs&gt;</div>
<div class="tip" id="fs26">member System.IObservable.Add : callback:(&#39;T -&gt; unit) -&gt; unit</div>
<div class="tip" id="fs27">Timer.Start() : unit</div>
<div class="tip" id="fs28">namespace SampleRecorder</div>
<div class="tip" id="fs29">Multiple items<br />type ISensor&lt;&#39;T&gt; =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;inherit ISensor<br />&#160;&#160;&#160;&#160;abstract member Interpolate : fac:float -&gt; a:&#39;T -&gt; b:&#39;T -&gt; &#39;T<br />&#160;&#160;&#160;&#160;abstract member SampleAcquired : IEvent&lt;&#39;T&gt;<br />&#160;&#160;end<br /><br />Full name: SampleRecorder.ISensor&lt;_&gt;<br /><br />--------------------<br />type ISensor =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member DataType : Type<br />&#160;&#160;end<br /><br />Full name: SampleRecorder.ISensor</div>
<div class="tip" id="fs30">val this : PerfSensor</div>
<div class="tip" id="fs31">override PerfSensor.DataType : System.Type<br /><br />Full name: Recorder-usage.PerfSensor.DataType</div>
<div class="tip" id="fs32">val typeof&lt;&#39;T&gt; : System.Type<br /><br />Full name: Microsoft.FSharp.Core.Operators.typeof</div>
<div class="tip" id="fs33">override PerfSensor.SampleAcquired : IEvent&lt;PerfSample&gt;<br /><br />Full name: Recorder-usage.PerfSensor.SampleAcquired</div>
<div class="tip" id="fs34">property Event.Publish: IEvent&lt;PerfSample&gt;</div>
<div class="tip" id="fs35">override PerfSensor.Interpolate : fac:float -&gt; a:PerfSample -&gt; b:PerfSample -&gt; PerfSample<br /><br />Full name: Recorder-usage.PerfSensor.Interpolate</div>
<div class="tip" id="fs36">val fac : float</div>
<div class="tip" id="fs37">val a : PerfSample</div>
<div class="tip" id="fs38">val b : PerfSample</div>
<div class="tip" id="fs39">type IDisposable =<br />&#160;&#160;member Dispose : unit -&gt; unit<br /><br />Full name: System.IDisposable</div>
<div class="tip" id="fs40">override PerfSensor.Dispose : unit -&gt; unit<br /><br />Full name: Recorder-usage.PerfSensor.Dispose</div>
<div class="tip" id="fs41">System.ComponentModel.Component.Dispose() : unit</div>
<div class="tip" id="fs42">val cpuSensor : PerfSensor<br /><br />Full name: Recorder-usage.cpuSensor</div>
<div class="tip" id="fs43">val evtHandle : System.IDisposable<br /><br />Full name: Recorder-usage.evtHandle</div>
<div class="tip" id="fs44">val smpl : PerfSample</div>
<div class="tip" id="fs45">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.printfn</div>
<div class="tip" id="fs46">Multiple items<br />type Async<br />static member AsBeginEnd : computation:(&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)<br />static member AwaitEvent : event:IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)<br />static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member AwaitTask : task:Task -&gt; Async&lt;unit&gt;<br />static member AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;<br />static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member CancelDefaultToken : unit -&gt; unit<br />static member Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;<br />static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg:&#39;Arg1 * beginAction:(&#39;Arg1 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * beginAction:(&#39;Arg1 * &#39;Arg2 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * arg3:&#39;Arg3 * beginAction:(&#39;Arg1 * &#39;Arg2 * &#39;Arg3 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromContinuations : callback:((&#39;T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member Ignore : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;unit&gt;<br />static member OnCancel : interruption:(unit -&gt; unit) -&gt; Async&lt;IDisposable&gt;<br />static member Parallel : computations:seq&lt;Async&lt;&#39;T&gt;&gt; -&gt; Async&lt;&#39;T []&gt;<br />static member RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; &#39;T<br />static member Sleep : millisecondsDueTime:int -&gt; Async&lt;unit&gt;<br />static member Start : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Task&lt;&#39;T&gt;<br />static member StartChild : computation:Async&lt;&#39;T&gt; * ?millisecondsTimeout:int -&gt; Async&lt;Async&lt;&#39;T&gt;&gt;<br />static member StartChildAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions -&gt; Async&lt;Task&lt;&#39;T&gt;&gt;<br />static member StartImmediate : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartWithContinuations : computation:Async&lt;&#39;T&gt; * continuation:(&#39;T -&gt; unit) * exceptionContinuation:(exn -&gt; unit) * cancellationContinuation:(OperationCanceledException -&gt; unit) * ?cancellationToken:CancellationToken -&gt; unit<br />static member SwitchToContext : syncContext:SynchronizationContext -&gt; Async&lt;unit&gt;<br />static member SwitchToNewThread : unit -&gt; Async&lt;unit&gt;<br />static member SwitchToThreadPool : unit -&gt; Async&lt;unit&gt;<br />static member TryCancelled : computation:Async&lt;&#39;T&gt; * compensation:(OperationCanceledException -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member CancellationToken : Async&lt;CancellationToken&gt;<br />static member DefaultCancellationToken : CancellationToken<br /><br />Full name: Microsoft.FSharp.Control.Async<br /><br />--------------------<br />type Async&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Async&lt;_&gt;</div>
<div class="tip" id="fs47">static member Async.Sleep : millisecondsDueTime:int -&gt; Async&lt;unit&gt;</div>
<div class="tip" id="fs48">static member Async.RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:System.Threading.CancellationToken -&gt; &#39;T</div>
<div class="tip" id="fs49">System.IDisposable.Dispose() : unit</div>
<div class="tip" id="fs50">val memSensor : PerfSensor<br /><br />Full name: Recorder-usage.memSensor</div>
<div class="tip" id="fs51">type LoadSample =<br />&#160;&#160;{Time: float;<br />&#160;&#160;&#160;Cpu: PerfSample;<br />&#160;&#160;&#160;Mem: PerfSample;}<br /><br />Full name: Recorder-usage.LoadSample</div>
<div class="tip" id="fs52">LoadSample.Time: float</div>
<div class="tip" id="fs53">LoadSample.Cpu: PerfSample</div>
<div class="tip" id="fs54">LoadSample.Mem: PerfSample</div>
<div class="tip" id="fs55">val recorder : SampleRecorder.Recorder&lt;LoadSample&gt;<br /><br />Full name: Recorder-usage.recorder</div>
<div class="tip" id="fs56">Multiple items<br />type Recorder&lt;&#39;S&gt; =<br />&#160;&#160;new : sensors:ISensor list -&gt; Recorder&lt;&#39;S&gt;<br />&#160;&#160;member Clear : unit -&gt; unit<br />&#160;&#160;member GetSamples : interval:float option -&gt; seq&lt;&#39;S&gt;<br />&#160;&#160;member PrintStatistics : unit -&gt; unit<br />&#160;&#160;member Start : unit -&gt; unit<br />&#160;&#160;member Stop : unit -&gt; unit<br /><br />Full name: SampleRecorder.Recorder&lt;_&gt;<br /><br />--------------------<br />new : sensors:SampleRecorder.ISensor list -&gt; SampleRecorder.Recorder&lt;&#39;S&gt;</div>
<div class="tip" id="fs57">member SampleRecorder.Recorder.Start : unit -&gt; unit</div>
<div class="tip" id="fs58">member SampleRecorder.Recorder.Stop : unit -&gt; unit</div>
<div class="tip" id="fs59">member SampleRecorder.Recorder.PrintStatistics : unit -&gt; unit</div>
<div class="tip" id="fs60">val smpls : LoadSample []<br /><br />Full name: Recorder-usage.smpls</div>
<div class="tip" id="fs61">member SampleRecorder.Recorder.GetSamples : interval:float option -&gt; seq&lt;&#39;S&gt;</div>
<div class="tip" id="fs62">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs63">module Array<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs64">val ofSeq : source:seq&lt;&#39;T&gt; -&gt; &#39;T []<br /><br />Full name: Microsoft.FSharp.Collections.Array.ofSeq</div>
<div class="tip" id="fs65">val smpl : LoadSample</div>
<div class="tip" id="fs66">member SampleRecorder.Recorder.Clear : unit -&gt; unit</div>

        </div>
        <div class="span3">
          <!-- <img src="file://Z:\dev\Deep\BRMLDrivers\docs\tools\../output/img/logo.png" alt="BRML Drivers logo" style="width:150px;margin:10px" /> -->  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">BRML Drivers</li>
            <li><a href="file://Z:\dev\Deep\BRMLDrivers\docs\tools\../output/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/BRMLDrivers">Get Library via NuGet</a></li>
            <li><a href="https://github.com/BRML/BRMLDrivers/tree/0.2">Source Code on GitHub</a></li>
            <li><a href="file://Z:\dev\Deep\BRMLDrivers\docs\tools\../output/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Data Recorder</li>
            <li><a href="file://Z:\dev\Deep\BRMLDrivers\docs\tools\../output/recorder-usage.html">Usage</a></li>

            <li class="nav-header">Instrument Drivers</li>
            <li><a href="file://Z:\dev\Deep\BRMLDrivers\docs\tools\../output/linmot.html">Linmot</a></li>
            <li><a href="file://Z:\dev\Deep\BRMLDrivers\docs\tools\../output/xytable.html">XY table</a></li>
            <li><a href="file://Z:\dev\Deep\BRMLDrivers\docs\tools\../output/biotac.html">BioTac SP</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="file://Z:\dev\Deep\BRMLDrivers\docs\tools\../output/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="https://github.com/BRML/BRMLDrivers/tree/0.2"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
